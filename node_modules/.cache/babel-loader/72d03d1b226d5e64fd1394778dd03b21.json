{"remainingRequest":"C:\\Users\\web\\Desktop\\曾荣润\\vue_app_00\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\曾荣润\\vue_app_00\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\曾荣润\\vue_app_00\\vue_app_00\\src\\components\\product\\ProductList.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\曾荣润\\vue_app_00\\vue_app_00\\src\\components\\product\\ProductList.vue","mtime":1545010899762},{"path":"C:\\Users\\web\\Desktop\\曾荣润\\vue_app_00\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\曾荣润\\vue_app_00\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\web\\Desktop\\曾荣润\\vue_app_00\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      navList: ['家电手机', '服饰鞋包', '家电手机', '家电手机', '家电手机', '家电手机', '家电手机', '家电手机', '家电手机', '家电手机', '家电手机', '家电手机'],\n      //导航栏信息\n      pcid: 1,\n      //商品分类编号\n      productInfo: [],\n      //商品信息列表\n      pcn: this.$store.state.productClassN,\n      //获取分类列表编号,\n      aContentId: '',\n      //导航a的href数值\n      fcid: this.$route.hash.slice(8) //第一个类值，让nav自动居中,默认值等于url的值\n\n    };\n  },\n  methods: {\n    goBack: function goBack() {\n      var url = sessionStorage.getItem('url');\n\n      if (!url) {\n        history.go(-1);\n      } else {\n        location.href = url;\n      }\n    },\n    getList: function getList(e) {\n      this.getProductList();\n      var div = document.getElementsByClassName('nav-list')[0];\n      var num = this.$route.hash.slice(8); //当前元素下标加1\n\n      if (num - this.fcid >= 2) {\n        div.scrollLeft = (num - this.fcid - 2) * 88;\n      } //搭建基本结构\n\n\n      for (var i = 0; i < this.$refs.b.length; i++) {\n        var reg = /mui-active/g;\n\n        if (this.$refs.b[i].id == this.$route.hash.split(\"#\")[1]) {\n          this.$refs.b[i].className += \" mui-active\";\n        } else {\n          this.$refs.b[i].className = this.$refs.b[i].className.replace(reg, '');\n        }\n      }\n    },\n    getProductList: function getProductList() {\n      var _this = this;\n\n      //请求获取当前分类信息\n      this.pcid = this.$route.hash.split('').splice(8).join('');\n      this.$http.get('productlist?pcid=' + this.pcid).then(function (res) {\n        _this.productInfo = res.body.data;\n\n        if (!res.body.data) {\n          _this.$router.push('is404');\n        }\n      });\n    },\n    getPCN: function getPCN() {\n      var _this2 = this;\n\n      if (!this.pcn) {\n        this.$toast('请求失败');\n        return;\n      }\n\n      this.$http.get('getclassinfo?classId=' + this.pcn).then(function (res) {\n        _this2.navList = res.body.data;\n        _this2.fcid = _this2.navList[0].cid;\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getList();\n  },\n  created: function created() {\n    this.getPCN();\n    this.getProductList();\n  }\n};",{"version":3,"sources":["ProductList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"app-plist\">\r\n\t\t<header class=\"mui-bar mui-bar-nav\">\r\n\t\t\t<a class=\"mui-action-back mui-icon mui-icon-left-nav mui-pull-left\" @click=\"goBack\"></a>\r\n\t\t\t<h1 class=\"mui-title\">有品推荐</h1>\r\n\t\t\t<div class=\"nav-list\">\r\n\t\t\t\t<div class=\"list\"  @click=\"getList($event)\">\r\n\t\t\t\t\t<router-link class=\"mui-control-item\" :to=\"`#content${item.cid}`\" v-for=\"(item,i) of navList\" ref=\"a\">{{item.class_title}}</router-link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t\t<div :id=\"`content${parseInt(fcid)+index}`\" class=\"product-content mui-control-content\" v-for=\"(list,index) of navList\" ref=\"b\">\r\n\t\t\t<div class=\"pc-item\" v-for=\"item of productInfo\">\r\n\t\t\t\t<router-link to=\"detail\">\r\n\t\t\t\t<div class=\"pc-item-img\">\r\n\t\t\t\t\t<img :src=\"item.p_img_url\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"pc-item-title\">\r\n\t\t\t\t\t{{item.p_title}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"pc-item-offer\">\r\n\t\t\t\t\t{{item.P_active}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<h3 class=\"pc-item-name\">\r\n\t\t\t\t\t{{item.pname}}\r\n\t\t\t\t</h3>\r\n\t\t\t\t<span class=\"pc-item-rmb\">\r\n\t\t\t\t\t￥\r\n\t\t\t\t</span>\r\n\t\t\t\t<span class=\"pc-item-price\">\r\n\t\t\t\t\t{{item.p_price}}起\r\n\t\t\t\t</span>\r\n\t\t\t\t</router-link>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"hidden\"></div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tnavList:['家电手机','服饰鞋包','家电手机','家电手机','家电手机','家电手机','家电手机','家电手机','家电手机','家电手机','家电手机','家电手机',], //导航栏信息\r\n\t\t\t\tpcid:1,//商品分类编号\r\n\t\t\t\tproductInfo:[],//商品信息列表\r\n\t\t\t\tpcn:this.$store.state.productClassN,//获取分类列表编号,\r\n\t\t\t\taContentId:'',//导航a的href数值\r\n\t\t\t\tfcid:this.$route.hash.slice(8),//第一个类值，让nav自动居中,默认值等于url的值\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tgoBack(){\r\n\t\t\t\tvar url=sessionStorage.getItem('url');\r\n\t\t\t\tif(!url){\r\n\t\t\t\t\thistory.go(-1);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlocation.href=url;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetList(e) {\r\n\t\t\t\tthis.getProductList();\r\n\t\t\t\tvar div=document.getElementsByClassName('nav-list')[0];\r\n\t\t\t\tvar num=this.$route.hash.slice(8);//当前元素下标加1\r\n\t\t\t\tif(num-this.fcid>=2){\r\n\t\t\t\t\tdiv.scrollLeft=(num-this.fcid-2)*88;\r\n\t\t\t\t}\r\n\t\t\t\t//搭建基本结构\r\n\t\t\t\tfor (var i = 0; i < this.$refs.b.length; i++) {\r\n\t\t\t\t\tvar reg = /mui-active/g;\r\n\t\t\t\t\tif ((this.$refs.b)[i].id == this.$route.hash.split(\"#\")[1]) {\r\n\t\t\t\t\t\t(this.$refs.b)[i].className += \" mui-active\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t(this.$refs.b)[i].className = (this.$refs.b)[i].className.replace(reg, '');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetProductList() {\r\n\t\t\t\t//请求获取当前分类信息\r\n\t\t\t\tthis.pcid = this.$route.hash.split('').splice(8).join('');\r\n\t\t\t\tthis.$http.get('productlist?pcid=' + this.pcid).then(res => {\r\n\t\t\t\t\tthis.productInfo=res.body.data;\r\n\t\t\t\t\tif(!res.body.data){\r\n\t\t\t\t\t\tthis.$router.push('is404');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetPCN(){\r\n\t\t\t\tif(!this.pcn){\r\n\t\t\t\t\tthis.$toast('请求失败');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$http.get('getclassinfo?classId=' + this.pcn).then(res => {\r\n\t\t\t\t\tthis.navList=res.body.data;\r\n\t\t\t\t\tthis.fcid=this.navList[0].cid;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getList();\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getPCN();\r\n\t\t\tthis.getProductList();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.app-plist header {\r\n\t\theight: 90px;\r\n\t\tbox-shadow: none;\r\n\t\tborder-bottom: 1px solid #ddd;\r\n\t\tbackground-color: #fff;\r\n\t\twidth: 100%;\r\n\t\toverflow-x: hidden;\r\n\t\tpadding-right: 0;\r\n\t}\r\n\t.app-plist header .mui-action-back {\r\n\t\tcolor: #999;\r\n\t}\r\n\t.app-plist .mui-bar-nav .nav-list {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 59%;\r\n\t\tline-height: 258%;\r\n\t\toverflow-x: scroll;\r\n\t\twhite-space: nowrap;\r\n\t\ttop: 44px;\r\n\t}\r\n\t.app-plist .mui-bar-nav .nav-list .list {\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.app-plist .mui-bar-nav .nav-list a {\r\n\t\tdisplay: inline-block;\r\n\t\tpadding: 0 10px;\r\n\t\tcolor: #666;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.app-plist .mui-bar-nav .nav-list a.mui-active {\r\n\t\tcolor: #EC971F;\r\n\t\tborder-bottom: 2px solid #EC971F;\r\n\t}\r\n\t.app-plist .product-content {\r\n\t\tposition: relative;\r\n\t\ttop: 100px;\r\n\t\tdisplay: none;\r\n\t\tjustify-content: space-between;\r\n\t\tflex-wrap: wrap;\r\n\t\tpadding: 0 10px;\r\n\t}\r\n\t.app-plist .product-content.mui-active {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.app-plist .product-content .pc-item {\r\n\t\twidth: 49%;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t.app-plist .product-content .pc-item .pc-item-img {\r\n\t\tbackground-color: #f6f6f6;\r\n\t}\r\n\t.app-plist .product-content .pc-item .pc-item-img img {\r\n\t\twidth: 100%;\r\n\t}\r\n\t.app-plist .product-content .pc-item .pc-item-title {\r\n\t\tcolor: #f0ad4e9e;\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tbackground-color: #ffc0cb4d;\r\n\t\tfont-size: 15px;\r\n\t\tpadding: 5px;\r\n\t}\r\n\t.app-plist .product-content .pc-item .pc-item-offer {\r\n\t\tbackground-color: #FF6700;\r\n\t\twidth: 62px;\r\n\t\tpadding: 0 15px;\r\n\t\tmargin: 10px 0;\r\n\t\tcolor: #fff;\r\n\t\tfont-family: \"宋体\";\r\n\t\tfont-size: 16px;\r\n\t}\r\n\t.app-plist .product-content .pc-item .pc-item-name {\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: 400;\r\n\t\tmargin: 15px 0;\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tcolor: #333;\r\n\t}\r\n\t.app-plist .product-content .pc-item .pc-item-rmb {\r\n\t\tcolor: #ff5053;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t.app-plist .product-content .pc-item .pc-item-price {\r\n\t\tcolor: #ff5053;\r\n\t\tfont-size: 18px;\r\n\t}\r\n\t.app-plist .hidden {\r\n\t\theight: 50px;\r\n\t\twidth: 100%;\r\n\t}\r\n</style>"],"sourceRoot":"src\\components\\product"}]}